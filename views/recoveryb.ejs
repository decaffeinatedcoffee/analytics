<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta name="theme-color" content="#292a2d" >
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@1,200&display=swap" rel="stylesheet">
    <title>Recuperação de senha</title>
</head>

<style>

body{
    background-color: rgba(0, 0, 0, 0.9);
    color: white;
    font-family: 'Montserrat', sans-serif;
}
#main{
    background-color: #242424;
        width: 350px;
        height: 400px;
        position: absolute;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
#blocks input{
    width: 30px;
    height: 45px;
    font-size: 20px;
}
#codeform{
    display: none;
}
#blocks{
    margin-top: 20%;
    position: absolute;
  left: 13%;
}
</style>
<body>
    <div id="main">

     <p style="text-align: center;">Digite o código enviado no seu email</p>
     <p style="text-align: center; color:rgb(255, 0, 0); font-size:17px;"><%-error%></p>
     <div id="blocks">
      <input type="text" required maxlength="1" id="first" oninput="effect(1)"  autocomplete="nah"> 
      <input type="text" required maxlength="1" id="second" oninput="effect(2)" autocomplete="idont">
      <input type="text" required maxlength="1" id="third" oninput="effect(3)" autocomplete="need">
      <input type="text" required maxlength="1" id="fourth" oninput="effect(4)" autocomplete="this"> 
      <input type="text" required maxlength="1" id="fifth" oninput="effect(5)" autocomplete="here">
      <input type="text" required maxlength="1" id="sixth" oninput="effect(6)" autocomplete="now"> 
    </div>
    </div>
   <form action="/recoverycode" method="POST" id="codeform">
    <input type="text" name="code" id="code">
   </form>
</body>


<script>

function effect(current){
    var first = document.getElementById('first').value;
var second = document.getElementById('second').value;
var third = document.getElementById('third').value;
var fourth = document.getElementById('fourth').value;
var fifth = document.getElementById('fifth').value;
var sixth = document.getElementById('sixth').value;
if(current == 1 && first){
    document.getElementById('second').focus();
}else if(current == 2 && second){
    document.getElementById('third').focus();
}else if(current == 3 && third){
    document.getElementById('fourth').focus();
}else if(current == 4 && fourth){
    document.getElementById('fifth').focus();
}else if(current == 5 && fifth){
    document.getElementById('sixth').focus();
}else if(current == 6 && sixth){
   checkCode();
}
if(current == 6 && !sixth){
    document.getElementById('fifth').focus();
}else if(current == 5 && !fifth){
    document.getElementById('fourth').focus();
}else if(current == 4 && !fourth){
    document.getElementById('third').focus();
}else if(current == 3 && !third){
    document.getElementById('second').focus();
}else if(current == 2 && !second){
    document.getElementById('first').focus();
}
}


function checkCode(){
var first = document.getElementById('first').value;
var second = document.getElementById('second').value;
var third = document.getElementById('third').value;
var fourth = document.getElementById('fourth').value;
var fifth = document.getElementById('fifth').value;
var sixth = document.getElementById('sixth').value;
var generatedcode = first + second + third + fourth + fifth + sixth;
console.log(generatedcode);

if(generatedcode.length == 6){
document.getElementById('code').value = generatedcode;    
document.getElementById("codeform").submit();
}
}

</script>
</html>